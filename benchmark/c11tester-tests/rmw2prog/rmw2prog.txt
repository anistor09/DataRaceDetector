C11Tester
Copyright (c) 2013 and 2019 Regents of the University of California. All rights reserved.
Distributed under the GPLv2
Written by Weiyu Luo, Brian Norris, and Brian Demsky

Race detected at location: 
/lib/libmodel.so(+0x17006)[0x7f01fc79e006]
/lib/libmodel.so(_Z15raceCheckRead64iPKv+0x57)[0x7f01fc79e7e7]
./progNicu[0x4013c7]
/lib/libmodel.so(_Z14thread_startupv+0x2f)[0x7f01fc79834f]
/lib/libmodel.so(_Z13helper_threadPv+0xae)[0x7f01fc79840e]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x8609)[0x7f01fc574609]
/lib/x86_64-linux-gnu/libc.so.6(clone+0x43)[0x7f01fc6b4353]

Data race detected @ address 0000000000404078:
    Access 1: write in thread  2 @ clock   7
    Access 2:  read in thread  3 @ clock   6

Race detected at location: 
/lib/libmodel.so(+0x1594f)[0x7f01fc79c94f]
/lib/libmodel.so(_Z16raceCheckWrite64iPKv+0x57)[0x7f01fc79eae7]
./progNicu[0x4013fb]
/lib/libmodel.so(_Z14thread_startupv+0x2f)[0x7f01fc79834f]
/lib/libmodel.so(_Z13helper_threadPv+0xae)[0x7f01fc79840e]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x8609)[0x7f01fc574609]
/lib/x86_64-linux-gnu/libc.so.6(clone+0x43)[0x7f01fc6b4353]

Data race detected @ address 0000000000404078:
    Access 1: write in thread  2 @ clock   7
    Access 2: write in thread  3 @ clock   6

Program output from execution 1:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 1:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  6)
7    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  7)
7    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               7   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 3860505565
------------------------------------------------------------------------------------

Program output from execution 2:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 2:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  6)
7    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  7)
7    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               7   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 3860505565
------------------------------------------------------------------------------------

Program output from execution 3:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 3:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  6)
6    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  6)
7    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               6   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 2810160588
------------------------------------------------------------------------------------

Program output from execution 4:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 4:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  6)
6    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  6)
7    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               6   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 2810160588
------------------------------------------------------------------------------------

Program output from execution 5:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 5:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  6)
6    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  6)
7    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               6   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 2810160588
------------------------------------------------------------------------------------

Race detected at location: 
/lib/libmodel.so(+0x17006)[0x7f01fc79e006]
/lib/libmodel.so(_Z15raceCheckRead64iPKv+0x57)[0x7f01fc79e7e7]
./progNicu[0x401209]
/lib/libmodel.so(_Z14thread_startupv+0x2f)[0x7f01fc79834f]
/lib/libmodel.so(_Z13helper_threadPv+0xae)[0x7f01fc79840e]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x8609)[0x7f01fc574609]
/lib/x86_64-linux-gnu/libc.so.6(clone+0x43)[0x7f01fc6b4353]

Data race detected @ address 0000000000404078:
    Access 1: write in thread  3 @ clock   6
    Access 2:  read in thread  2 @ clock   7

Race detected at location: 
/lib/libmodel.so(+0x17006)[0x7f01fc79e006]
/lib/libmodel.so(_Z15raceCheckRead64iPKv+0x57)[0x7f01fc79e7e7]
./progNicu[0x40124d]
/lib/libmodel.so(_Z14thread_startupv+0x2f)[0x7f01fc79834f]
/lib/libmodel.so(_Z13helper_threadPv+0xae)[0x7f01fc79840e]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x8609)[0x7f01fc574609]
/lib/x86_64-linux-gnu/libc.so.6(clone+0x43)[0x7f01fc6b4353]

Data race detected @ address 0000000000404078:
    Access 1: write in thread  3 @ clock   6
    Access 2:  read in thread  2 @ clock   7

Program output from execution 6:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
v3 = 0, v4 = 0
expected was 0, but x is 5
Compare and exchange failed
Then x = 5
expected: 0Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 6:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  6)
6    3    nonatomic write  relaxed  0000000000404078   0x5                     ( 0,  0,  0,  6)
7    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  7)
8    3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  8)
9    2    atomic read     acquire  0000000000404078   0x5                 6   ( 0,  2,  9)
10   2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2, 10)
11   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 11, 10)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12, 10,  8)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13, 10,  8)
HASH 4025434802
------------------------------------------------------------------------------------

Program output from execution 7:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 7:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  6)
6    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  6)
7    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               6   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 2810160588
------------------------------------------------------------------------------------

Program output from execution 8:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
v3 = 0, v4 = 0
expected was 0, but x is 5
Compare and exchange failed
Then x = 5
expected: 0Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 8:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  6)
6    3    nonatomic write  relaxed  0000000000404078   0x5                     ( 0,  0,  0,  6)
7    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  7)
8    3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  8)
9    2    atomic read     acquire  0000000000404078   0x5                 6   ( 0,  2,  9)
10   2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2, 10)
11   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 11, 10)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12, 10,  8)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13, 10,  8)
HASH 4025434802
------------------------------------------------------------------------------------

Program output from execution 9:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
v3 = 0, v4 = 0
expected was 0, but x is 5
Compare and exchange failed
Then x = 5
expected: 0Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 9:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  6)
6    3    nonatomic write  relaxed  0000000000404078   0x5                     ( 0,  0,  0,  6)
7    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  7)
8    3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  8)
9    2    atomic read     acquire  0000000000404078   0x5                 6   ( 0,  2,  9)
10   2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2, 10)
11   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 11, 10)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12, 10,  8)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13, 10,  8)
HASH 4025434802
------------------------------------------------------------------------------------

Program output from execution 10:
---- BEGIN PROGRAM OUTPUT ----
Main thread: creating 2 threads
expected was 0, but x is 0
Compare and exchange succeeded
Then x = 315
expected: 0v3 = 0, v4 = 315
Main thread is finishing
---- END PROGRAM OUTPUT   ----

Execution trace 10:
------------------------------------------------------------------------------------
#    t    Action type     MO       Location         Value               Rf  CV
------------------------------------------------------------------------------------
1    1    thread start    seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0,  1)
2    1    pthread create  seq_cst  00007FFF85C44240   0x7fff85c441c0          ( 0,  2)
3    2    thread start    seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  3)
4    1    pthread create  seq_cst  00007FFF85C44238   0x7fff85c441c0          ( 0,  4)
5    3    thread start    seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0,  5)
6    2    thread sleep    seq_cst  0000000000000000   0x3e8                   ( 0,  2,  6)
6    2    nonatomic write  relaxed  0000000000404078   0x13b                   ( 0,  0,  6)
7    3    thread sleep    seq_cst  0000000000000000   0x186a0                 ( 0,  4,  0,  7)
8    2    atomic read     acquire  0000000000404078   0x13b               6   ( 0,  2,  8)
9    2    thread finish   seq_cst  00007F01D770DA98   0xdeadbeef              ( 0,  2,  9)
10   1    pthread join    seq_cst  00007F01D770DA98   0x2                     ( 0, 10,  9)
11   3    thread finish   seq_cst  00007F01D790F058   0xdeadbeef              ( 0,  4,  0, 11)
12   1    pthread join    seq_cst  00007F01D790F058   0x3                     ( 0, 12,  9, 11)
13   1    thread finish   seq_cst  00007F01D5F8C110   0xdeadbeef              ( 0, 13,  9, 11)
HASH 2810160588
------------------------------------------------------------------------------------

******* Model-checking complete: *******
Number of complete, bug-free executions: 10
Number of buggy executions: 0
Total executions: 10
